# Проектная работа 4 спринта

**Важное сообщение для тимлида:** для ускорения проверки проекта укажите ссылку на приватный репозиторий с командной работой в файле readme и отправьте свежее приглашение на аккаунт [BlueDeep](https://github.com/BigDeepBlue).

 DONE: Ссылка на этот репозиторий: [ТУТ] (https://github.com/NimblePython/Async_API_sprint_1)

 DONE: Приглашение BlueDeep отправлено

# Отладка сервиса текущего проекта

## Предварительные условия

1. docker compose
2. python 3.11
3. poetry

для локальной отладки проекта запустите db, elastic, redis в отладочном docker compose:
```bash
docker compose -f docker-compose.dev.yml up -d
```

и запустите отладку сервиса получения данных о фильме из elasticsearch:

```
python -m src.main
```

при этом в переменные окружения должно быть экспортировано содержимое файла .env.local
(это можно сделать средствами IDE)

Либо запустить
```
make debug.film.service
```
перед непосредственным запуском дебага make экспортирует содержимое из .env.local

(сейчас это происходит без необходимости использовать аргумент команды make, позже (скорее всего) по умолчанию будет экспортироваться файл .env, а для того чтобы использовать env.local нужно будет использовать аргумент)

## Что делать, если env-файл уже был добавлен в стейджинг до того, как его добавили в .gitignore?
Убрать его из стейджинга:
```
git rm .env.local --cached
git commit -m "feature/git не отcлеживает .env.local"
```

## Тестирование API
Чтобы убедиться в работе сервисов достаточно запустить в приложении Postman тесты из файлов:
- ```ETLTests.postman_collection.json```
- ```FastAPI.postman_collection.json``` 

